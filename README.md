### ìš”êµ¬ì‚¬í•­\_ì •ë¦¬

- ê¶ê·¹ì ìœ¼ë¡œ êµ¬ê¸€ ìº˜ë¦°ë”ì˜ [ì£¼ë³„ í™”ë©´]í˜ì´ì§€ì˜ í´ë¡ 
- ì¢Œì¸¡ Datepicker ìƒë‹¨ì˜ < , > ë²„íŠ¼ì„ í†µí•´ ë‚ ì§œ ì´ë™ ì‹œ ì¢Œì¸¡ì˜ Datepickerì™€ ìš°ì¸¡ì˜ ë‹¬ë ¥ì´ `ì¼ì£¼ì¼ ê°„ì˜ ë‹¨ìœ„`ë¡œ ì´ë™í•œë‹¤. reduxë¥¼ ì‚¬ìš©í•œë‹¤,
- ìº˜ë¦°ë”ì˜ ì¢Œì¸¡ Datepickerë¥¼ ì„ íƒ ì‹œ ìš°ì¸¡ì˜ ì£¼ë³„ë³´ê¸° í™”ë©´ì˜ ë‹¬ë ¥ì— `í•´ë‹¹ ì£¼ì°¨`ë¡œ ì´ë™í•œë‹¤.
- ì´ë²¤íŠ¸ ì¶”ê°€ ì‹œ modal ì°½ì´ ì—´ë¦¬ë©°, ì´ë²¤íŠ¸ ì¶”ê°€ê°€ ì™„ë£Œëœ ì´í›„ì—ëŠ”, ìš°ì¸¡ ë‹¬ë ¥ì— í‘œì‹œëœë‹¤.
- ìš°ì¸¡ì˜ ë‹¬ë ¥ì¸ `1ì‹œê°„ ë‹¨ìœ„`ì˜ ê°„ê²©ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ìˆë‹¤.
- ì¼ì • ì¶”ê°€ ì‹œ ëª¨ë‹¬ì—ëŠ” ì œëª©, ë‚ ì§œ, ì‹œì‘ ì‹œê°„, ë ì‹œê°„ì„ ì…ë ¥í•´ì•¼ í•œë‹¤.
- ì¶”ê°€ëœ ì¼ì •ì„ í´ë¦­í•˜ë©´ ì¼ì •ì˜ ìƒì„¸ ì •ë³´ì™€ ì‚­ì œí•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì´ ë‚˜ì˜¨ë‹¤.
- ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­ì‹œ í•´ë‹¹ ì¼ì •ì˜ Boxê°€ ì‚­ì œëœë‹¤.
- ë‚ ì§œ ì´ë™ì„ í–ˆë‹¤ê°€, ì¼ì •ì´ ìˆëŠ” ì£¼ê°„ì— ë“¤ì–´ì˜¤ë©´, ê¸°ì¡´ ë“±ë¡ ëœ ì¼ì •ì´ ë³´ì—¬ì•¼ í•œë‹¤.

### í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë“¤ ì •ë¦¬

![](./public/image.png)

### êµ¬í˜„ëœ ê¸°ëŠ¥

- Redux-Toolkitë¥¼ ì´ìš©í•œ ìƒíƒœ ê´€ë¦¬
- ì£¼ë³„/ì›”ë³„ ìº˜ë¦°ë” ë³´ê¸°, ì„ íƒí•œ ë‚ ì§œë¡œ í™”ë©´ ë³€ê²½
- ì™¼ìª½ ìƒë‹¨ date picker
- ì¼ì • ë“±ë¡ ë° ì‚­ì œ ê¸°ëŠ¥ (ì œëª©, ë‚ ì§œ, ì‹œì‘ ì‹œê°„, ë ì‹œê°„)
- ë“±ë¡ëœ ì´ë²¤íŠ¸ í™•ì¸ (ì£¼ë³„/ì›”ë³„)
- ë§¤ì¼ ë°˜ë³µë˜ëŠ” ì¼ì • ìº˜ë¦°ë”ì— ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥
- ì˜¤ëŠ˜ ë²„íŠ¼ í´ë¦­ ì‹œ í˜„ì¬ ë‚ ì§œë¡œ ì´ë™

### íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë° ìƒˆë¡œ í•™ìŠµí•œ ê¸°ë¡, ê³ ë¯¼í•œ ê¸°ë¡

#### ì¢Œì¸¡ì˜ Sidebarìº˜ë¦°ë”ì™€ ë©”ì¸ WeeklyCalendarì˜ ì—°ë™

ì¢Œì¸¡ì˜ Sidebar ì¼ˆë¦°ë”ì—ì„œ ì´ì „ í™”ì‚´í‘œë¥¼ ëˆŒëŸ¬ì„œ ì´ì „ ë‹¬ë¡œ, ë‹¤ìŒ í™”ì‚´í‘œë¥¼ ëˆŒëŸ¬ì„œ ë‹¤ìŒ ë‹¬ë¡œ ê°”ì„ ë•Œ ë©”ì¸ WeelyCalendarì˜ ì£¼ì°¨ë„ ë°”ë€Œì–´ì•¼ í•˜ê³ , ë§ˆì°¬ê°€ì§€ë¡œ ìµœìƒë‹¨ í—¤ë”ì— ì´ì „ ë‹¬ ì•„ì´ì½˜, ë‹¤ìŒ ë‹¬ ì•„ì´ì½˜ì„ ëˆ„ë¥´ë©´ ë©”ì¸ WeelkyCalendarì™€ ì¢Œì¸¡ Sidebarì˜ ìº˜ë¦°ë” ëª¨ë‘ ë°”ë€Œì–´ì•¼ í•˜ëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.

ì œê°€ ìƒê°í–ˆì„ ë•Œ, `í•˜ë‚˜ì˜ ë‚ ì§œ`ë¥¼ ì „ì—­ì ì¸ ìƒíƒœë¡œ ê´€ë¦¬ë¥¼ í•˜ê³ , ì¢Œì¸¡ Sidebar ìº˜ë¦°ë”, ë©”ì¸ WeelyCalendar ëª¨ë‘ `í•´ë‹¹ ìƒíƒœë¥¼ ë”°ë¼ê°€ë„ë¡` êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë§ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.

ë‚ ì§œ ì´ë™ì‹œì™€, ë‹¤ìŒ ë‹¬ë¡œ ê°€ëŠ” ë“±ì˜ ë™ì‘ì„ ìœ„í•´ ê° ì¼€ì´ìŠ¤ ë³„ë¡œ reducerë¥¼ ì •ì˜í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
reducers: {
    shiftToPrevWeekReducer: (state) => {
      const prevWeekDate = subWeeks(new Date(state.date), 1);
      state.date = format(prevWeekDate, "yyyy-MM-dd");
    },
    shiftToNextWeekReducer: (state) => {
      const nextWeekDate = addWeeks(new Date(state.date), 1);
      state.date = format(nextWeekDate, "yyyy-MM-dd");
    },
    shiftToNextMonthReducer: (state) => {
      const nextMonthDate = addMonths(new Date(state.date), 1);
      state.date = format(nextMonthDate, "yyyy-MM-dd");
    },
    shiftToPrevMonthReducer: (state) => {
      const prevMonthDate = subMonths(new Date(state.date), 1);
      state.date = format(prevMonthDate, "yyyy-MM-dd");
    },
    setDateReducer: (state, action: PayloadAction<string>) => {
      //ìœ íš¨í•œ ë‚ ì§œì¸ì§€ ê²€ì¦
      state.date = format(new Date(action.payload), "yyyy-MM-dd");
    },
  },

//reacy-day-pickerë¥¼ ì‚¬ìš©í•  ë–„
onPrevClick={() => dispatch(shiftToPrevMonthReducer())}
onNextClick={() => dispatch(shiftToNextMonthReducer())}
```

#### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ redux

ì™¸ë¶€ ì»´í¬ë„ŒíŠ¸ì—ì„œ `configureStore`ì˜ `state`,`dispatch`ë¥¼ ìœ„í•´ì„œ íƒ€ì…ì„ ì§€ì •í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

```tsx
export type RootState = ReturnType<typeof store.getState>;
export type AppDisPatch = typeof store.dispatch;
```

- RootState : Redux ìŠ¤í† ì–´ì˜ stateë¥¼ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…
- AppDispatch : Redux ì•¡ì…˜ì„ dispatchí•˜ëŠ” í•¨ìˆ˜ì˜ íƒ€ì…

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•œ reduxì˜ ê²½ìš° `useDispatch`, `useSelector`ë¥¼ ì‚¬ìš©í•´ì„œ ì»´í¬ë„ŒíŠ¸ -> ìŠ¤í† ì–´ë¡œì˜ ì ‘ê·¼ì„ í•˜ì˜€ì§€ë§Œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ê¸°ì¡´ í›…ì— ìƒˆë¡œ ì •ì˜í•œ íƒ€ì…ì„ ì¶”ê°€í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ í˜¸í™˜ë˜ëŠ” `useDispatch`,`useSelector`ë¥¼ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¶„ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
//use-redux

import { useDispatch, useSelector } from "react-redux";
import type { TypedUseSelectorHook } from "react-redux";

import type { RootState, AppDispatch } from "../store/index";

export const useAppDispatch: () => AppDispatch = useDispatch;
export const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;
```

ì´ë ‡ê²Œ í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì—ì„œ íƒ€ì…ì •ì˜ëœ state, dispatchë¥¼ í†µí•´, í›¨ì”¬ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ìƒˆë¡œê³ ì¹¨, ë‹¬ë ¥ ì´ë™ì‹œì—ë„ ì¶”ê°€ëœ ì¼ì •ì„ ìœ ì§€í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.

ìƒˆë¡œê³ ì¹¨ì‹œì—ë„,ë‹¬ë ¥ ì´ë™ ì‹œì—ë„ ì¶”ê°€ëœ ì¼ì •ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ì„œ, `ë¸Œë¼ìš°ì €ì˜ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€`ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. `redux-persist`ë¥¼ ì´ìš©í•´, `ë“±ë¡ëœ ì¼ì •ëª©ë¡`ì„ ìƒˆë¡œê³ ì¹¨ì´ë‚˜, ì´ë™ì‹œì—ë„ ìœ ì§€ë˜ê²Œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

#### date-fnsë¡œ ë‚ ì§œ ê´€ë ¨ í•¨ìˆ˜, í˜•ì‹ì˜ ì¼ê´€ì„±ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.

react-day-pickerê°€ ë‚´ë¶€ ì˜ì¡´ì„±ìœ¼ë¡œ date-fnsë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì ì„ ê³ ë ¤í•˜ì—¬, date-fnsë¡œ ë‚ ì§œ í˜•ì‹ , í¬ë§·íŒ…, ë‚ ì§œ ìœ í‹¸í•¨ìˆ˜ ë“±ì„ ê´€ë¦¬í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.

ìº˜ë¦°ë”ë¥¼ êµ¬í˜„í•  ë•Œ ê°€ì¥ ì–´ë ¤ìš´ ì ì€ ê° ë‚ ì§œë§ˆë‹¤ ì˜¤ì „ 1ì‹œ,,ì˜¤í›„ 13ì‹œ... ì´ëŸ° í˜•ì‹ì„ ë‚˜íƒ€ë‚´ì£¼ì–´ì•¼ í•˜ëŠ” ì ì´ì—ˆëŠ”ë°ìš”.

date-fnsì˜ `eachHourOfInterval`ë¡œ 24ê°œì˜ ë‹¨ìœ„ë¡œ ë¶„ë¦¬ë¥¼ í•œ ì´í›„, 1,13 ì´ëŸ° ìˆ«ìë“¤ì„ ì˜¤ì „ 1ì‹œ, ì˜¤í›„ 13ì‹œ ë“±ìœ¼ë¡œ í¬ë§·íŒ…í•´ì£¼ëŠ” ìœ í‹¸í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ì—¬ì„œ í’€ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.

#### ëª¨ë“  ìƒíƒœ ê´€ë¦¬ë¥¼ redux-toolkitìœ¼ë¡œ ê´€ë¦¬í•´ë³´ì.

reduxë¥¼ ì‚¬ìš©í•˜ëŠ” ì¡°ê±´ì´ ìˆì—ˆê¸° ë–„ë¬¸ì—, `ëª¨ë“  ìƒíƒœê´€ë¦¬`ë¥¼ reduxë¡œ ê´€ë¦¬í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œëŠ” `ëª¨ë‹¬ì˜ ìƒíƒœ`ì¸ë°ìš”. ì „ì—­ì ìœ¼ë¡œ ëª¨ë‹¬ì„ ê´€ë¦¬í•˜ì—¬, ë³µì¡ë„ë¥¼ ì¤„ì´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.

ëª¨ë‹¬ì˜ stateëŠ” ëª¨ë‹¬ typeì„ stringìœ¼ë¡œ, modal ì˜¤í”ˆ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” isOpenìœ¼ë¡œ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

```tsx
import { createSlice, PayloadAction } from "@reduxjs/toolkit";

interface ModalStateProps {
  isOpen: boolean;
  modalType: string;
}

const modalSlice = createSlice({
  name: "modal-slice",
  initialState: {
    isOpen: false,
    modalType: "",
  } as ModalStateProps,
  reducers: {
    openModal: (
      state,
      actions: PayloadAction<{
        modalType: string;
      }>
    ) => {
      const { modalType } = actions.payload;
      state.modalType = modalType;
      state.isOpen = true;
    },
    closeModal: (
      state,
      actions: PayloadAction<{
        modalType: string;
      }>
    ) => {
      const { modalType } = actions.payload;
      state.modalType = modalType;
      state.isOpen = false;
    },
    toggleModal: (
      state,
      actions: PayloadAction<{
        modalType: string;
      }>
    ) => {
      const { modalType } = actions.payload;
      state.modalType = modalType;
      state.isOpen = !state.isOpen;
    },
  },
});

export const { openModal, closeModal, toggleModal } = modalSlice.actions;

export default modalSlice.reducer;
```

ê·¸ë¦¬ê³  ì´ì–´ì„œ, ëª¨ë“  ëª¨ë‹¬ì„ ê´€ë¦¬í•´ì£¼ëŠ” `GlobalModal`ì„ ë§Œë“¤ê³ , `modalType`ì„ ë°›ì•„ì„œ Componentë¥¼ ë°˜í™˜í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
import { ScheduleAddModal } from "./ScheduleAddModal";

import { useAppSelector } from "../../hooks/use-redux";
import { ScheduleDetailModal } from "./ScheduleDetailModal";

const MODAL_TYPES = {
  ScheduleAddModal: "ScheduleAddModal",
  ScheduleDetailModal: "ScheduleDetailModal",
};

const MODAL_COMPONENTS = [
  {
    type: MODAL_TYPES.ScheduleAddModal,
    component: <ScheduleAddModal />,
  },
  {
    type: MODAL_TYPES.ScheduleDetailModal,
    component: <ScheduleDetailModal />,
  },
];

export const GlobalModal = () => {
  const { modalType, isOpen } = useAppSelector((state) => state.modal);

  const findRenderModal = MODAL_COMPONENTS.find((modal) => {
    return modal.type === modalType;
  });

  const RenderModalComponent = () => {
    return findRenderModal?.component;
  };

  return <div role="dialog">{isOpen && <RenderModalComponent />}</div>;
};
```

ì •ë§ ë§ì€ ê²ƒì„ ë°°ì› ë˜ ê³¼ì œì˜€ìŠµë‹ˆë‹¤. ì¬ë¯¸ìˆê²Œ ê°œë°œí•  ìˆ˜ ìˆì—ˆê³ , í•˜ë‚˜í•˜ë‚˜ ì™„ì„±ëœ ê¸°ëŠ¥ë“¤ì„ ë³´ë©° ë¿Œë“¯í–ˆì–´ìš” ğŸ˜™ ê°ì‚¬í•©ë‹ˆë‹¤ 
